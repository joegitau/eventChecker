/*!

 =========================================================
 * EVENTS TAG APP
 =========================================================

 * edited by: JOSEPH GITAU 

 =========================================================

 */
var big_image,
  navbar_initialized,
  didScroll,
  transparent = !0,
  transparentDemo = !0,
  fixedTop = !1,
  backgroundOrange = !1,
  toggle_initialized = !1,
  $datepicker = $(".datepicker"),
  $collapse = $(".navbar .collapse"),
  $html = $("html"),
  $tagsinput = $(".tagsinput");
-1 < navigator.platform.indexOf("Win")
  ? (0 != $(".tab-content .table-responsive").length &&
      $(".table-responsive").each(function() {
        new PerfectScrollbar($(this)[0]);
      }),
    $html.addClass("perfect-scrollbar-on"))
  : $html.addClass("perfect-scrollbar-off"),
  $(document).ready(function() {
    $(".dropdown-menu a.dropdown-toggle").on("click", function(e) {
      var t = $(this),
        a = $(this).offsetParent(".dropdown-menu");
      return (
        $(this)
          .next()
          .hasClass("show") ||
          $(this)
            .parents(".dropdown-menu")
            .first()
            .find(".show")
            .removeClass("show"),
        $(this)
          .next(".dropdown-menu")
          .toggleClass("show"),
        $(this)
          .closest("a")
          .toggleClass("open"),
        $(this)
          .parents("a.dropdown-item.dropdown.show")
          .on("hidden.bs.dropdown", function(e) {
            $(".dropdown-menu .show").removeClass("show");
          }),
        a.parent().hasClass("navbar-nav") ||
          t.next().css({ top: t[0].offsetTop, left: a.outerWidth() - 4 }),
        !1
      );
    }),
      $('[data-toggle="tooltip"], [rel="tooltip"]').tooltip();
    var e = $tagsinput.data("color");
    0 != $tagsinput.length && $tagsinput.tagsinput(),
      $(".bootstrap-tagsinput")
        .find(".tag")
        .addClass("badge-" + e),
      0 != $(".selectpicker").length &&
        $(".selectpicker").selectpicker({
          iconBase: "tim-icons",
          tickIcon: "icon-check-2"
        }),
      768 <= $(window).width() &&
        0 != (big_image = $('.header[data-parallax="true"]')).length &&
        $(window).on("scroll", blackKit.checkScrollForParallax),
      $('[data-toggle="popover"]').each(function() {
        (color_class = $(this).data("color")),
          $(this).popover({
            template:
              '<div class="popover popover-' +
              color_class +
              '" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'
          });
      });
    blackKit.initNavbarImage(),
      ($navbar = $(".navbar[color-on-scroll]")),
      (scroll_distance = $navbar.attr("color-on-scroll") || 500),
      0 != $(".navbar[color-on-scroll]").length &&
        (blackKit.checkScrollForTransparentNavbar(),
        $(window).on("scroll", blackKit.checkScrollForTransparentNavbar)),
      $(".form-control")
        .on("focus", function() {
          $(this)
            .parent(".input-group")
            .addClass("input-group-focus");
        })
        .on("blur", function() {
          $(this)
            .parent(".input-group")
            .removeClass("input-group-focus");
        }),
      992 <= $(window).width() &&
        ((big_image = $('.page-header-image[data-parallax="true"]')),
        $(window).on("scroll", blackKit.checkScrollForParallax)),
      $(".carousel").carousel({ interval: 4e3 }),
      0 != $(".datetimepicker").length &&
        $(".datetimepicker").datetimepicker({
          icons: {
            time: "fas fa-watch",
            date: "fas fa-calendar",
            up: "fas fa-chevron-up",
            down: "fas fa-chevron-down",
            previous: "fas fa-prev",
            next: "fas fa-next",
            today: "fas fa-screenshot",
            clear: "fas fa-trash",
            close: "fas fa-remove"
          }
        }),
      0 != $(".datepicker").length &&
        $(".datepicker").datetimepicker({
          format: "DD.MM.YYYY",
          icons: {
            time: "fas fa-watch",
            date: "fas fa-calendar",
            up: "fas fa-chevron-up",
            down: "fas fa-chevron-down",
            previous: "fas fa-prev",
            next: "fas fa-next",
            today: "fas fa-screenshot",
            clear: "fas fa-trash",
            close: "fas fa-remove"
          }
        }),
      0 != $(".timepicker").length &&
        $(".timepicker").datetimepicker({
          format: "h:mm A",
          icons: {
            time: "fas fa-watch",
            date: "fas fa-calendar",
            up: "fas fa-chevron-up",
            down: "fas fa-chevron-down",
            previous: "fas fa-prev",
            next: "fas fa-next",
            today: "fas fa-screenshot",
            clear: "fas fa-trash",
            close: "fas fa-remove"
          }
        });
  });
var lastScrollTop = 0,
  delta = 5,
  navbarHeight = 0;
function hasScrolled() {
  var e = $(this).scrollTop();
  Math.abs(lastScrollTop - e) <= delta ||
    (lastScrollTop < e && navbarHeight < e
      ? $(".navbar.nav-down")
          .removeClass("nav-down")
          .addClass("nav-up")
      : e + $(window).height() < $(document).height() &&
        $(".navbar.nav-up")
          .removeClass("nav-up")
          .addClass("nav-down"),
    (lastScrollTop = e));
}
function debounce(a, o, r) {
  var l;
  return function() {
    var e = this,
      t = arguments;
    clearTimeout(l),
      (l = setTimeout(function() {
        (l = null), r || a.apply(e, t);
      }, o)),
      r && !l && a.apply(e, t);
  };
}
$(window).on("resize", function() {
  blackKit.initNavbarImage();
}),
  (blackKit = {
    misc: { navbar_menu_visible: 0 },
    checkScrollForTransparentNavbar: debounce(function() {
      $(document).scrollTop() > scroll_distance
        ? transparent &&
          ((transparent = !1),
          $(".navbar[color-on-scroll]").removeClass("navbar-transparent"))
        : transparent ||
          ((transparent = !0),
          $(".navbar[color-on-scroll]").addClass("navbar-transparent"));
    }, 17),
    initDatePicker: function() {
      0 != $datepicker.length &&
        $datepicker.datetimepicker({
          icons: {
            time: "fas fa-watch",
            date: "fas fa-calendar",
            up: "fas fa-chevron-up",
            down: "fas fa-chevron-down",
            previous: "fas fa-prev",
            next: "fas fa-next",
            today: "fas fa-screenshot",
            clear: "fas fa-trash",
            close: "fas fa-remove"
          }
        });
    },
    initNavbarImage: function() {
      var e = $(".navbar")
          .find(".navbar-translate")
          .siblings(".navbar-collapse"),
        t = e.data("nav-image");
      $(window).width() < 991 || $("body").hasClass("burger-menu")
        ? null != t &&
          e
            .css("background", "url('" + t + "')")
            .removeAttr("data-nav-image")
            .css("background-size", "cover")
            .addClass("has-image")
        : null != t &&
          e
            .css("background", "")
            .attr("data-nav-image", "" + t)
            .css("background-size", "")
            .removeClass("has-image");
    },
    checkScrollForMovingNavbar: function() {
      (navbarHeight = $(".navbar").outerHeight()),
        $(window).scroll(function(e) {
          didScroll = !0;
        }),
        setInterval(function() {
          didScroll && (hasScrolled(), (didScroll = !1));
        }, 250);
    }
  });

$(document).ready(function() {
  $("#printBadge").click(function() {
    $("#badgeContent").printThis({
      importCSS: true,
      importStyle: false,
      printContainer: true,
      loadCSS: "../css/print.css"
    });
  });
});
